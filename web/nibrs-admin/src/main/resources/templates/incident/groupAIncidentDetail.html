<!--

    Copyright 2016 SEARCH-The National Consortium for Justice Information and Statistics

    Licensed under the Apache License, Version 2.0 (the "License");
    you may not use this file except in compliance with the License.
    You may obtain a copy of the License at

       http://www.apache.org/licenses/LICENSE-2.0

    Unless required by applicable law or agreed to in writing, software
    distributed under the License is distributed on an "AS IS" BASIS,
    WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
    See the License for the specific language governing permissions and
    limitations under the License.

-->
<!DOCTYPE HTML>
<html xmlns:th="http://www.thymeleaf.org">
	<head>
		<title>Group A Incident Detail</title>
		<th:block th:include="fragments/general.html :: headerfiles"></th:block>
		<link rel="stylesheet" type="text/css" th:href="@{/webjars/datatables/1.10.19/css/dataTables.bootstrap4.min.css}" />
		<link rel="stylesheet" type="text/css" th:href="@{/webjars/font-awesome/5.2.0/css/all.css}" />
		<link href="https://cdn.jsdelivr.net/npm/gijgo@1.9.10/css/gijgo.min.css" rel="stylesheet" type="text/css" />
	</head>
	<body>
	    <!-- Begin page content -->
	  <div th:fragment="detail">
	    <div class="card">
	  		<div class="card-header font-weight-bold">REPORT INFO</div>
	  		<div class="card-body">
	  			<table class="table table-bordered">
	    			<thead>
	      				<tr>
					        <th>Action Type</th>
					        <th>Submission Year</th>
					        <th>Submission Month</th>
						</tr>
	    			</thead>
	    			<tbody>
						<tr>
						  <td th:text="${administrativeSegment.segmentActionType.stateDescription}">segmentActionType</td>
						  <td th:text="${administrativeSegment.yearOfTape}">Year of Tape</td>
						  <td th:text="${administrativeSegment.monthOfTape}">Month of Tape</td>
						</tr>
					</tbody>
				</table>	
	  		</div> 
	    </div>
	    <div class="card">
	  		<div class="card-header font-weight-bold">AGENCY</div>
	  		<div class="card-body">
	  			<table class="table table-bordered">
	    			<thead>
	     				<tr>
				        <th>STATE</th>
				        <th>ORI </th>
				        <th>NAME</th>
				        <th>CITY INDICATOR</th>
	  					</tr>
	    			</thead>
	    			<tbody>
							<tr>
							  <td th:text="${administrativeSegment.stateCode}">State</td>
							  <td th:text="${administrativeSegment.ori}">ORI</td>
							  <td th:text="${administrativeSegment.agency.agencyName}">Name</td>
							  <td th:text="${administrativeSegment.cityIndicator?:''}">CITY Indicator</td>
							</tr>
					  </tbody>
	        </table>	
	  		</div> 
	    </div>
	    <div class="card">
	  		<div class="card-header font-weight-bold">Incident</div>
	  		<div class="card-body">
	  			<table class="table table-bordered">
	    			<tbody>
						<tr>
							<th>INCIDENT NUMBER</th>  
						  	<td th:text="${administrativeSegment.incidentNumber}">incidentNumber</td>
						  	<th>CARGO THEFT INDICATOR</th>
						  	<td th:text="${administrativeSegment.cargoTheftIndicatorType.stateCode}">cargoTheftIndicatorType</td>
					  	</tr>
					  	<tr>
					        <th>INCIDENT DATE </th>
						  	<td th:text="${administrativeSegment.incidentDate}">incidentDate</td>
					        <th>INCIDENT HOUR</th>
						  	<td th:text="${administrativeSegment.incidentHour?:''}">incidentHour</td>
						</tr>
					  	<tr>
					        <th>CLEARED EXCEPTIONALLY TYPE</th>
						  	<td th:text="${administrativeSegment.clearedExceptionallyType.stateDescription}">clearedExceptionallyType</td>
					        <th>EXCEPTIONAL CLEARANCE DATE</th>
						  	<td th:text="${administrativeSegment.exceptionalClearanceDate?:''}">exceptionalClearanceDate</td>
						</tr>
					</tbody>
				</table>	
	  		</div> 
	    </div>
	    <div class="card" th:if="${!administrativeSegment.offenseSegments.empty}">
	  		<div class="card-header font-weight-bold">OFFENSES</div>
	  		<div class="card-body">
	  			<div id="accordion">
					  <div class="card" th:each="offenseSegment : ${administrativeSegment.offenseSegments}">
					    <div class="card-header" id="headingOne">
					      <h5 class="mb-0">
					        <button class="btn btn-link" data-toggle="collapse" th:data-target="${'#offense' + offenseSegment.offenseSegmentId}" aria-expanded="true" aria-controls="collapseOne" 
					           th:text="${offenseSegment.ucrOffenseCodeType.stateCode + '-' + offenseSegment.ucrOffenseCodeType.stateDescription}">
					          offenseSegment - 1
					        </button>
					      </h5>
					    </div>
					
					    <div th:id="${'offense' + offenseSegment.offenseSegmentId}" class="collapse show" aria-labelledby="headingOne" data-parent="#accordion">
					      <div class="card-body">
					        <table class="table table-bordered">
					          <tbody>
					            <tr th:if="${offenseSegment.offenseAttemptedCompleted != null}">
					              <th>ATTEMPTED/COMPLETED</th>
					              <td th:text="${offenseSegment.offenseAttemptedCompleted?:''}">offenseAttemptedCompleted</td>
					            </tr>
					            <tr th:if="${offenseSegment.locationType != null}">
                        <th>LOCATION TYPE</th>
					              <td th:text="${offenseSegment.locationType.stateDescription}">locationType</td>
					            </tr>
					            <tr th:if="${offenseSegment.numberOfPremisesEntered != null}">
					              <th>PREMISES ENTERED</th>
                        <td th:text="${offenseSegment.numberOfPremisesEntered?:''}">numberOfPremisesEntered</td>
					            </tr>
					            <tr th:if="${offenseSegment.methodOfEntryType != null and offenseSegment.methodOfEntryType.stateCode != ' '}">
					              <th>METHOD OF ENTRY</th>
					              <td th:text="${offenseSegment.methodOfEntryType.stateDescription}">methodOfEntryType</td>
					            </tr>
					            <tr th:if=${!offenseSegment.typeOfWeaponForceInvolveds.empty}>
				                <th>WEAPON/FORCE INVOLVED</th>
						            <td>
						              <p th:each="typeOfWeaponForceInvolved : ${offenseSegment.typeOfWeaponForceInvolveds}">
						                <span th:text="${typeOfWeaponForceInvolved.typeOfWeaponForceInvolvedType.stateDescription}"></span>
						                <span th:if="${typeOfWeaponForceInvolved.automaticWeaponIndicator != ''}"> - </span>
						                <span th:text="${typeOfWeaponForceInvolved.automaticWeaponIndicator}"></span>
						              </p>
						            </td>
					            </tr>
					            <tr th:if=${!offenseSegment.offenderSuspectedOfUsingTypes.empty}>
				                <th>SUSPECTED OF USING</th>
						            <td>
						              <p th:each="offenderSuspectedOfUsingType : ${offenseSegment.offenderSuspectedOfUsingTypes}" 
						                th:text="${offenderSuspectedOfUsingType.stateDescription}">
						              </p>
						            </td>
					            </tr>
					            <tr th:if=${!offenseSegment.typeOfCriminalActivityTypes.empty}>
				                <th>CIMINAL ACTIVITY TYPES</th>
						            <td>
						              <p th:each="typeOfCriminalActivityType : ${offenseSegment.typeOfCriminalActivityTypes}" 
						                th:text="${typeOfCriminalActivityType.stateDescription}">
						              </p>
						            </td>
				              </tr>
					            <tr th:if=${!offenseSegment.biasMotivationTypes.empty}>
				                <th>BIAS MOTIVATION TYPES</th>
												<td>
												  <p th:each="biasMotivationType : ${offenseSegment.biasMotivationTypes}" 
												    th:text="${biasMotivationType.stateDescription}">
												  </p>
												</td>
                      </tr>
				            </tbody>
					        </table>  
				        </div>
				      </div>
				    </div>
		      </div>
	 		  </div> 
      </div>
		
	    <div class="card" th:if="${!administrativeSegment.propertySegments.empty}">
	      <div class="card-header font-weight-bold">PROPERTY SEGMENTS</div>
	      <div class="card-body">
	        <div id="accordion">
	          <div class="card" th:each="propertySegment : ${administrativeSegment.propertySegments}">
							<div class="card-header" id="headingOne">
							  <h5 class="mb-0">
							    <button class="btn btn-link" data-toggle="collapse" th:data-target="${'#propertySegment' + propertySegment.propertySegmentId}" aria-expanded="true" aria-controls="collapseOne" 
							       th:text="${propertySegment.typePropertyLossEtcType.stateDescription}">
							      PROPERTY - 1
							    </button>
							  </h5>
							</div>
			   
							<div th:id="${'propertySegment' + propertySegment.propertySegmentId}" class="collapse show" aria-labelledby="headingOne" data-parent="#accordion">
								<div class="card-body">
									<table class="table table-bordered" th:if="${propertySegment.numberOfStolenMotorVehicles != null or propertySegment.numberOfRecoveredMotorVehicles != null}">
									  <tbody>
									    <tr th:if="${propertySegment.numberOfStolenMotorVehicles != null}">
									     <th>STOLEN MOTOR VEHICLES</th>
									     <td th:text="${propertySegment.numberOfStolenMotorVehicles}">numberOfStolenMotorVehicles</td>
									    </tr>
									    <tr th:if="${propertySegment.numberOfRecoveredMotorVehicles != null}">
									     <th>RECOVERED MOTOR VEHICLES</th>
									     <td th:text="${propertySegment.numberOfRecoveredMotorVehicles}">numberOfRecoveredMotorVehicles</td>
									    </tr>
									  </tbody>
									</table>  
									
									<table class="table table-bordered" th:if="${!propertySegment.propertyTypes.empty}">
									  <thead>
									    <tr>
										    <th>PROPERTY DESCRIPTION</th>
										    <th>VALUE OF PROPERTY</th>
										    <th>RECOVERED DATE</th>
									    </tr>
									  </thead>
									  <tbody>
									    <tr th:each="propertyType : ${propertySegment.propertyTypes}">
									     <td th:text="${propertyType.propertyDescriptionType.stateDescription}">propertyDescriptionType</td>
									     <td th:text="${propertyType.valueOfProperty?:''}">valueOfProperty</td>
									     <td th:text="${propertyType.recoveredDate?:''}">recoveredDate</td>
									    </tr>
									  </tbody>
									</table>  
									
									<table class="table table-bordered" th:if="${!propertySegment.suspectedDrugTypes.empty}">
									  <thead>
									    <tr>
										    <th>SUSPECTED DRUG TYPE</th>
										    <th>DRUG MEASUREMENT TYPE</th>
										    <th>ESTIMATED DRUG QUANTITY</th>
									    </tr>
									  </thead>
									  <tbody>
									    <tr th:each="suspectedDrugType : ${propertySegment.suspectedDrugTypes}">
									     <td th:text="${suspectedDrugType.suspectedDrugTypeType.stateDescription}">suspectedDrugTypeType</td>
									     <td th:text="${suspectedDrugType.typeDrugMeasurementType.stateDescription}">valueOfProperty</td>
									     <td th:text="${suspectedDrugType.estimatedDrugQuantity?:''}">estimatedDrugQuantity</td>
									    </tr>
									  </tbody>
									</table>  
								</div>
			       </div>
			     </div>
			   </div>
			 </div>
			</div>
	      
      <div class="card" th:if="${!administrativeSegment.offenderSegments.empty}">
        <div class="card-header font-weight-bold">OFFENDER SEGMENTS</div>
        <div class="card-body">
          <div id="accordion">
            <div class="card" th:each="offenderSegment : ${administrativeSegment.offenderSegments}">
              <div class="card-header" id="headingOne">
                <h5 class="mb-0">
                  <button class="btn btn-link" data-toggle="collapse" th:data-target="${'#offenderSegment' + offenderSegment.offenderSegmentId}" aria-expanded="true" aria-controls="collapseOne" 
                     th:text="${'OFFENDER-' + #numbers.formatInteger(offenderSegment.offenderSequenceNumber, 2)}">
                    offender - 1
                  </button>
                </h5>
              </div>
         
              <div th:id="${'offenderSegment' + offenderSegment.offenderSegmentId}" class="collapse show" aria-labelledby="headingOne" data-parent="#accordion">
                <div class="card-body">
                  <table class="table table-bordered" th:if="${offenderSegment.offenderSequenceNumber != '0'}">
                    <tbody>
                      <tr th:if="${offenderSegment.ageOfOffenderMin != null}">
												<th>MIN AGE</th>
												<td th:text="${offenderSegment.ageOfOffenderMin}">ageOfOffenderMin</td>
                      </tr>
                      <tr th:if="${offenderSegment.ageOfOffenderMax != null}">
												<th>MAX AGE</th>
												<td th:text="${offenderSegment.ageOfOffenderMax}">ageOfOffenderMax</td>
                      </tr>
                      <tr th:if="${offenderSegment.nonNumericAge != null}">
												<th>NON NUMERIC AGE</th>
												<td th:text="${offenderSegment.nonNumericAge}">nonNumericAge</td>
                      </tr>
                      <tr th:if="${offenderSegment.sexOfPersonType != null and offenderSegment.sexOfPersonType.stateCode != ' ' }">
												<th>SEX</th>
												<td th:text="${offenderSegment.sexOfPersonType.stateDescription}">sexOfPersonType</td>
                      </tr>
                      <tr th:if="${offenderSegment.raceOfPersonType != null and offenderSegment.raceOfPersonType.stateCode != ' '}">
												<th>RACE</th>
												<td th:text="${offenderSegment.raceOfPersonType.stateDescription}">raceOfPersonType</td>
                      </tr>
                      <tr th:if="${offenderSegment.ethnicityOfPersonType != null and offenderSegment.ethnicityOfPersonType.stateCode != ' '}">
												<th>ETHNICITY</th>
												<td th:text="${offenderSegment.ethnicityOfPersonType.stateDescription}">ethnicityOfPersonType</td>
                      </tr>
                      <tr th:if="${!offenderSegment.victimOffenderAssociations.empty}">
												<th>VICTIM OFFENDER ASSOCIATIONS</th>
												<td>
                          <p th:each="victimOffenderAssociation : ${offenderSegment.victimOffenderAssociations}">
                            <span th:text="${victimOffenderAssociation.victimOffenderRelationshipType.stateDescription}"></span>
                            <span> - </span>
                            <a th:text="${'VICTIM-' + #numbers.formatInteger(victimOffenderAssociation.victimSegment.victimSequenceNumber, 2)}" th:href="${'#victimSegment-' + victimOffenderAssociation.victimSegment.victimSegmentId}"></a>
                          </p>
												</td>
                      </tr>
                    </tbody>
                  </table>  
                </div>
              </div>
            </div>
          </div>
        </div>                  
	  	</div>
	  	
			<div class="card" th:if="${ !administrativeSegment.arresteeSegments.empty}">
				<div class="card-header font-weight-bold">ARRESTEES</div>
				<div class="card-body">
					<table class="table table-bordered">
		  			<thead>
		    			<tr>
				        <th>STATE</th>
				        <th>ORI </th>
				        <th>NAME</th>
					    </tr>
		  			</thead>
		  			<tbody>
							<tr>
							  <td th:text="${administrativeSegment.stateCode}">State</td>
							  <td th:text="${administrativeSegment.ori}">ORI</td>
							  <td th:text="${administrativeSegment.agency.agencyName}">Name</td>
							</tr>
						</tbody>
    			</table>	
				</div> 
			</div>
	    <script th:inline="javascript">
	    	$(function(){
	    		
	    	});
	    </script>
    </div>
	</body>
</html>
